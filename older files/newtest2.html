<html>
<!--
Created using JS Bin
http://live.datatables.net

Copyright (c) 2018 by anonymous (http://live.datatables.net/kowaboke/1/edit)

Released under the MIT license: http://jsbin.mit-license.org
-->
    <head>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
        <link rel="stylesheet" href="css/newtest2.css">
        <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.6/css/jquery.dataTables.min.css">

        <script src="https://code.jquery.com/jquery-3.1.1.js"></script>
        
        <!-- <script type="text/javascript" language="javascript" src="https://code.jquery.com/jquery-1.12.4.js"></script> -->
        <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script>

        <!-- <script type="text/javascript" language="javascript" src="datatables/pageResize.js"></script> -->
        <script type="text/javascript" language="javascript" src="datatables/scrollingResize.js"></script>

        <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/buttons/1.5.1/css/buttons.dataTables.min.css">
        <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/buttons/1.5.1/js/dataTables.buttons.min.js"></script>
	    <script type="text/javascript" language="javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
	    <script type="text/javascript" language="javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.32/pdfmake.min.js"></script>
	    <script type="text/javascript" language="javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.32/vfs_fonts.js"></script>
	    <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/buttons/1.5.1/js/buttons.html5.min.js"></script>



    
</head>
    <body>
        <div id="toplevel" class="container">
            <div class="box main-header">main header
                
            </div>
            <div id="clickme" class="box main-content">main content - click me
                <div class="box report-title">report title</div>
                <div id='innerContent' class="box report-body">
                    <table id="example" class="display compact nowrap tableOffset" cellspacing="0" width="100%">                   
                    </table>    
                </div>
                <div class="box report-footer">report footer</div>
            </div>
            <div class="box main-footer">main footer</div>
        </div>

        <script type="text/javascript" charset="utf-8">
			$(document).ready( function () {
                var jsonData=[];
                setupData();
				// DataTables initialisation
				/* var table = $('#example').DataTable( {
                    data: jsonData,
                    columns: [
                        { data: "date","title": "timestamp" },
                        { data: "topic", "title": "topic" },
                        { data: "payload", "title": "payload" }
                    ],
                    pageResize: true,
					columnDefs: [
						{ visible: false, targets: 1 }
					]     
                } ); */
                var table = $('#example').DataTable( {
                    data: jsonData,
                    columns: [
                        { data: "date","title": "timestamp" },
                        { data: "topic", "title": "topic" },
                        { data: "payload", "title": "payload" }
                    ],
                    scrollResize: true,
                    scrollCollapse: true,
					scrollX: true,
					scrollY: true,
                    paging: false,
                    dom: 'Bfrtip',
                    buttons: [
                        'copyHtml5',
                        'excelHtml5',
                        'csvHtml5',
                        'pdfHtml5'
                    ],
					columnDefs: [
						{ visible: false, targets: 1 }
					]
                } );

                // DataTables initialisation
				
                console.log("HELLO");
                
                $('#toplevel').on('click', '#clickme', function () {
                    console.log("innerContent:" + $("#innerContent").outerHeight(true));
                });


                function setupData(){
                    var date1 = new Date(2018,01,01);
                    var date2 = new Date(2018,05,11);
                    for (i = 0; i < 30; i++) { 
                        jElement = {date: randomDate(date1, date2), topic: "/dragonfly/Basement/" + i, payload: i};
                        jsonData.push(jElement);
                    }
                }
                function randomDate(start, end) {
                    var date = new Date(+start + Math.random() * (end - start));
                    return date;
                    }

                function processResize(){

                };
			} );
		</script>
    <script>

</script>
</body>
</html>