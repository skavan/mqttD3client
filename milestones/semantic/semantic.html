<html>

<head>
    <!-- external css -->
    <link rel="stylesheet" href="css/semantic.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.3.1/semantic.min.css" />
    <link rel="stylesheet" type="text/css" href="https://cdn.uni-kl.de/js/datatables/latest/media/css/dataTables.semanticui.css">
    <!-- <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.6/css/jquery.dataTables.min.css"> -->
    <link rel="stylesheet" type="text/css" href="https://cdn.uni-kl.de/js/datatables/latest/extensions/Buttons/css/buttons.semanticui.css">


    <!-- external javascript -->
    <script src="https://code.jquery.com/jquery-3.1.1.js"></script>
    <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" language="javascript" src="datatables/scrollingResize.js"></script>
    <script src="https://cdn.datatables.net/1.10.16/js/dataTables.semanticui.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/1.5.1/js/dataTables.buttons.min.js"></script>
    <script src="https://cdn.uni-kl.de/js/datatables/latest/extensions/Buttons/js/buttons.semanticui.min.js"></script>
    <script type="text/javascript" language="javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
    <script type="text/javascript" language="javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.32/pdfmake.min.js"></script>
    <script type="text/javascript" language="javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.32/vfs_fonts.js"></script>
    <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/buttons/1.5.1/js/buttons.html5.min.js"></script>
    <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/buttons/1.5.1/js/buttons.print.min.js"></script>
    <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/buttons/1.5.1/js/buttons.colVis.min.js"></script>

</head>

<body>
    <div class="container">
        <div class="box main-header">

<!--             <div class="ui top segment">
                <div class="ui small labeled input">
                    <div class="ui label">
                        http://
                    </div>
                    <input type="text" style="width:150px" placeholder="192.168.1.99" value="192.168.1.80">
                </div>
                <span>&nbsp;</span>
                <div class="ui small labeled input">
                    <div class="ui label">
                        port
                    </div>
                    <input type="text" style="width:60px" placeholder="1884" value="1884">
                </div>
                <span style="width:50px">&nbsp;</span>
                <div class="ui small labeled input">
                    <div class="ui label">
                        topic
                    </div>
                    <input type="text" style="width:350px" placeholder="/dragonfly/Basement/Receiver/Status" value="/dragonfly/Basement/Receiver/Status">
                </div>
            </div> -->
<!--             <div class="ui bottom attached segment hidden">
                <p>Middle</p>
            </div> -->
            <table class="ui fixed table compact small">

                <tbody>
                    <tr>
                        <td class="four wide">
                            <div class="ui fluid labeled input">
                                <div class="ui label">
                                    http://
                                </div>
                                <input type="text" placeholder="192.168.1.99" value="192.168.1.80">
                            </div>
                        </td>
                        <td style="width:9em;">
                            <div class="ui fluid labeled input">
                                <div class="ui label">
                                    port
                                </div>
                                <input type="text" placeholder="1884" value="1884">
                            </div>
                        </td>
                        <td class="five wide">
                            <div class="ui fluid labeled input">
                                <div class="ui label">
                                    topic
                                </div>
                                <input type="text" placeholder="/dragonfly/Basement/Receiver/Status" value="/dragonfly/Basement/Receiver/Status">
                            </div>
                        </td>
                        <td class="" style="width:8em">
                            <button class="ui fluid primary  small button">
                                Subscribe
                            </button>
                        </td>
                        <td class="" style="width:24px; padding:1px;text-align: right">
                                <a class="item">
                                        <i class="caret down icon large"></i>
                                      </a>
                        </td>
                        

                    </tr>
                    <tr class="hidden">
                        <td>Jamie</td>
                        <td>Approved</td>
                        <td>32</td>
                        <td>Male</td>
                        <td>Male</td>

                    </tr>

                </tbody>

            </table>

        </div>
        
<!--             <div class="ui four column grid stackable celled segment">
                    <div class="four wide column" >X</div>
                    <div class="two wide column" style="flex: 0 0 150px;">1884</div>
                    <div class="six wide column" >X</div>
                    <div class="four wide column" >X</div>
            </div> -->
        
        <div class="box main-content">
            <!-- main content -->
            <!-- <div class="box report-title">report title</div> -->
            <div class="box report-body">
                <!-- <table id="example" class="ui celled table compact" cellspacing="0" width="100%"> -->
                <table id="example" class="ui celled compact structured striped table nowrap" cellspacing="0" width="100%">
                    <tfoot>
                        <tr>

                        </tr>
                    </tfoot>
                </table>
            </div>
            <div class="box report-footer">report footer</div>
        </div>
        <div class="box main-footer">main footer</div>
    </div>

    <script type="text/javascript" charset="utf-8">
        $(document).ready(function () {
            var jsonData = [];
            setupData();

            $(window).resize(processResize)
                .trigger('resize');

            var table = $('#example').DataTable({
                data: jsonData,
                columns: [{
                        data: "date",
                        "title": "timestamp"
                    },
                    {
                        data: "topic",
                        "title": "topic"
                    },
                    {
                        data: "payload",
                        "title": "payload"
                    }
                ],
                lengthChange: true,
                scrollResize: true,
                scrollCollapse: true,
                scrollX: true,
                scrollY: true,
                paging: false,
                buttons: ['copy', 'excel', 'pdf', 'colvis'],
                fnFooterCallback: function (row, data, start, end, display) {
                    console.log("footer");
                    row.innerHTML = '<th rowspan="1" colspan="1" style="width: 100%;">' + data.length +
                        ' records.</th>';
                },
                "initComplete": function () {
                    //var api = this.api();
                    //api.$('td').click( function () {
                    //api.search( this.innerHTML ).draw();
                    console.log("inited");
                },
                "preDrawCallback": function (settings) {
                    console.log("predraw");
                }
            });

            table.buttons().container()
                .appendTo($('div.eight.column:eq(0)', table.table().container()));

            function processResize() {
                /*                     console.log("resize");
                                    $("dataTables_scrollBody").css({"height": ""}); */
            }

            function setupData() {
                var date1 = new Date(2018, 01, 01);
                var date2 = new Date(2018, 05, 11);
                for (i = 0; i < 10; i++) {
                    jElement = {
                        date: randomDate(date1, date2),
                        topic: "/dragonfly/Basement/" + i,
                        payload: i
                    };
                    jsonData.push(jElement);
                }
            }

            function randomDate(start, end) {
                var date = new Date(+start + Math.random() * (end - start));
                return date;
            }

        });

        // $('tfoot').remove();
    </script>
</body>

</html>